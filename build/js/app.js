"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function slideDown(t,e){e=e||"300ms ease",t.style.webkitTransition="initial",t.style.transition="initial",t.style.visibility="hidden",t.style.maxHeight="initial";var n=t.offsetHeight+"px";t.style.removeProperty("visibility"),t.style.maxHeight="0",t.style.overflow="hidden",t.style.webkitTransition="max-height "+e+", opacity "+e,t.style.transition="max-height "+e+", opacity "+e;var i=function r(){t.style.removeProperty("-webkit-transition"),t.style.removeProperty("transition"),t.style.removeProperty("opacity"),t.removeEventListener("transitionend",r)};requestAnimationFrame(function(){t.addEventListener("transitionend",i),t.style.maxHeight=n,t.style.opacity="1"})}function slideUp(t,e){e=e||"300ms ease",t.style.webkitTransition="initial",t.style.transition="initial";var n=t.offsetHeight+"px";t.style.maxHeight=n,t.style.overflow="hidden",t.style.webkitTransition="max-height "+e+", opacity "+e,t.style.transition="max-height "+e+", opacity "+e;var i=function r(){t.style.removeProperty("-webkit-transition"),t.style.removeProperty("transition"),t.style.removeProperty("opacity"),t.removeEventListener("transitionend",r)};requestAnimationFrame(function(){t.addEventListener("transitionend",i),t.style.maxHeight="0",t.style.opacity="0"})}var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});var Dropdown=function(){function t(e){_classCallCheck(this,t),this.container=e,this.contents=this.container.querySelectorAll(".js-dropdown-item-content"),this.links=this.container.querySelectorAll(".js-dropdown-item-link"),this.init()}return _createClass(t,[{key:"init",value:function(){this.container.addEventListener("click",this.updateDropdown.bind(this))}},{key:"updateDropdown",value:function(t){t.preventDefault();var e=t.target;if(e.classList.contains("js-dropdown-item-link")){var n=e.closest(".js-dropdown-item"),i=n.querySelector(".js-dropdown-item-content");e.classList.contains("is-active")?this.clearDropdown():(this.clearDropdown(),e.classList.add("is-active"),slideDown(i))}}},{key:"clearDropdown",value:function(){var t=!0,e=!1,n=void 0;try{for(var i,r=this.links[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var o=i.value;o.classList.remove("is-active")}}catch(s){e=!0,n=s}finally{try{!t&&r["return"]&&r["return"]()}finally{if(e)throw n}}var a=!0,l=!1,c=void 0;try{for(var u,y=this.contents[Symbol.iterator]();!(a=(u=y.next()).done);a=!0){var o=u.value;slideUp(o)}}catch(s){l=!0,c=s}finally{try{!a&&y["return"]&&y["return"]()}finally{if(l)throw c}}}}]),t}(),Menu=function(){function t(e){_classCallCheck(this,t),this.container=e,this.menuScroll=this.container.querySelector(".js-menu-scroll"),this.menuScrollTarget=document.querySelector(".js-menu-show"),this.init()}return _createClass(t,[{key:"init",value:function(){window.addEventListener("scroll",this.checkMenuPosition.bind(this)),window.addEventListener("resize",this.checkMenuPosition.bind(this))}},{key:"checkMenuPosition",value:function(){var t=this.menuScrollTarget.getBoundingClientRect(),e=t.top;e<0?this.menuScroll.classList.add("is-active"):this.menuScroll.classList.remove("is-active")}}]),t}(),Tooltips=function(){function t(e){_classCallCheck(this,t),this.container=e,this.init()}return _createClass(t,[{key:"init",value:function(){}}]),t}(),Viewer=function(){function t(){_classCallCheck(this,t),this.init()}return _createClass(t,[{key:"init",value:function(){this.initClasses()}},{key:"initClasses",value:function(){var t=document.querySelectorAll(".js-dropdown-container"),e=!0,n=!1,i=void 0;try{for(var r,o=t[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var s=r.value;new Dropdown(s)}}catch(a){n=!0,i=a}finally{try{!e&&o["return"]&&o["return"]()}finally{if(n)throw i}}var l=document.querySelectorAll(".js-menu-container"),c=!0,u=!1,y=void 0;try{for(var d,h=l[Symbol.iterator]();!(c=(d=h.next()).done);c=!0){var s=d.value;new Menu(s)}}catch(a){u=!0,y=a}finally{try{!c&&h["return"]&&h["return"]()}finally{if(u)throw y}}}}]),t}();document.addEventListener("DOMContentLoaded",function(){new Viewer});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwic2xpZGVEb3duIiwiZWwiLCJ0aW1pbmciLCJzdHlsZSIsIndlYmtpdFRyYW5zaXRpb24iLCJ0cmFuc2l0aW9uIiwidmlzaWJpbGl0eSIsIm1heEhlaWdodCIsImhlaWdodCIsIm9mZnNldEhlaWdodCIsInJlbW92ZVByb3BlcnR5Iiwib3ZlcmZsb3ciLCJlbmRTbGlkZURvd24iLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwiYWRkRXZlbnRMaXN0ZW5lciIsIm9wYWNpdHkiLCJzbGlkZVVwIiwiX2NyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiaSIsImxlbmd0aCIsImRlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImtleSIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsInByb3RvdHlwZSIsIkVsZW1lbnQiLCJtYXRjaGVzIiwibXNNYXRjaGVzU2VsZWN0b3IiLCJ3ZWJraXRNYXRjaGVzU2VsZWN0b3IiLCJjbG9zZXN0IiwicyIsInRoaXMiLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsImNvbnRhaW5zIiwicGFyZW50RWxlbWVudCIsInBhcmVudE5vZGUiLCJub2RlVHlwZSIsIkRyb3Bkb3duIiwiY29udGFpbmVyIiwiY29udGVudHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwibGlua3MiLCJpbml0IiwidmFsdWUiLCJ1cGRhdGVEcm9wZG93biIsImJpbmQiLCJlIiwicHJldmVudERlZmF1bHQiLCJjbGFzc0xpc3QiLCJwYXJlbnQiLCJjb250ZW50IiwicXVlcnlTZWxlY3RvciIsImNsZWFyRHJvcGRvd24iLCJhZGQiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uIiwiX2RpZEl0ZXJhdG9yRXJyb3IiLCJfaXRlcmF0b3JFcnJvciIsInVuZGVmaW5lZCIsIl9zdGVwIiwiX2l0ZXJhdG9yIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJuZXh0IiwiZG9uZSIsImVsZW1lbnQiLCJyZW1vdmUiLCJlcnIiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiIsIl9kaWRJdGVyYXRvckVycm9yMiIsIl9pdGVyYXRvckVycm9yMiIsIl9zdGVwMiIsIl9pdGVyYXRvcjIiLCJNZW51IiwibWVudVNjcm9sbCIsIm1lbnVTY3JvbGxUYXJnZXQiLCJ3aW5kb3ciLCJjaGVja01lbnVQb3NpdGlvbiIsInRhcmdldFBvc2l0aW9uIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidGFyZ2V0UG9zaXRpb25Ub3AiLCJ0b3AiLCJUb29sdGlwcyIsIlZpZXdlciIsImluaXRDbGFzc2VzIiwiZHJvcGRvd25zIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMiLCJfZGlkSXRlcmF0b3JFcnJvcjMiLCJfaXRlcmF0b3JFcnJvcjMiLCJfc3RlcDMiLCJfaXRlcmF0b3IzIiwibWVudSIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240IiwiX2RpZEl0ZXJhdG9yRXJyb3I0IiwiX2l0ZXJhdG9yRXJyb3I0IiwiX3N0ZXA0IiwiX2l0ZXJhdG9yNCJdLCJtYXBwaW5ncyI6IkFBQUEsWUFJQSxTQUFTQSxpQkFBZ0JDLEVBQVVDLEdBQWUsS0FBTUQsWUFBb0JDLElBQWdCLEtBQU0sSUFBSUMsV0FBVSxxQ0FvQjlHLFFBQVNDLFdBQVVDLEVBQUlDLEdBQ3JCQSxFQUFTQSxHQUFVLGFBR25CRCxFQUFHRSxNQUFNQyxpQkFBbUIsVUFDNUJILEVBQUdFLE1BQU1FLFdBQWEsVUFDdEJKLEVBQUdFLE1BQU1HLFdBQWEsU0FDdEJMLEVBQUdFLE1BQU1JLFVBQVksU0FDckIsSUFBSUMsR0FBU1AsRUFBR1EsYUFBZSxJQUMvQlIsR0FBR0UsTUFBTU8sZUFBZSxjQUN4QlQsRUFBR0UsTUFBTUksVUFBWSxJ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LFFBQUEsS0FBQW1CLEdBQUFJLEVBQUFBLFdBQUFBLEVBQUFBLFlBQUEsUUFBQSxHQUFBSCxFQUFBLEtBQUFDLElBTVosR0FBSUcsR0FBTzNELFNBQVNTLGlCQUFpQixzQkFOekJtRCxHQUFBLEVBQUFDLEdBQUEsRUFBQUMsRUFBQXBDLE1BQUEsS0FPWixJQUFBLEdBQUFxQyxHQUFBQyxFQUFvQkwsRUFBcEI5QixPQUFBQyxjQUFBOEIsR0FBQUcsRUFBQUMsRUFBQWpDLFFBQUFDLE1BQUE0QixHQUFBLEVBQTBCLENBQUEsR0FBakIzQixHQUFpQjhCLEVBQUFuRCxLQUN4QixJQUFJNkIsTUFBS1IsSUFSQyxNQUFBRSxHQUFBMEIsR0FBQSxFQUFBQyxFQUFBM0IsRUFBQSxRQUFBLEtBQUF5QixHQUFBSSxFQUFBQSxXQUFBQSxFQUFBQSxZQUFBLFFBQUEsR0FBQUgsRUFBQSxLQUFBQyxTQWtJUlgsSUFySFRuRCxVQUFTMUIsaUJBQWlCLG1CQUFvQixXQUM1QyxHQUFJNkUiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIFRoaXJkIHBhcnR5XG4gKi9cbiAgaWYgKCFFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzKVxuICAgICAgRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcyA9IEVsZW1lbnQucHJvdG90eXBlLm1zTWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRWxlbWVudC5wcm90b3R5cGUud2Via2l0TWF0Y2hlc1NlbGVjdG9yO1xuICBcbiAgaWYgKCFFbGVtZW50LnByb3RvdHlwZS5jbG9zZXN0KVxuICAgICAgRWxlbWVudC5wcm90b3R5cGUuY2xvc2VzdCA9IGZ1bmN0aW9uKHMpIHtcbiAgICAgICAgICB2YXIgZWwgPSB0aGlzO1xuICAgICAgICAgIGlmICghZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNvbnRhaW5zKGVsKSkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICBpZiAoZWwubWF0Y2hlcyhzKSkgcmV0dXJuIGVsO1xuICAgICAgICAgICAgICBlbCA9IGVsLnBhcmVudEVsZW1lbnQgfHwgZWwucGFyZW50Tm9kZTtcbiAgICAgICAgICB9IHdoaWxlIChlbCAhPT0gbnVsbCAmJiBlbC5ub2RlVHlwZSA9PT0gMSk7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9O1xuICAvKipcbiAgICogU2xpZGUgYW4gZWxlbWVudCBkb3duIGxpa2UgalF1ZXJ5J3Mgc2xpZGVEb3duIGZ1bmN0aW9uIHVzaW5nIENTUzMgdHJhbnNpdGlvbnMuXG4gICAqIEBzZWUgaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vbHVkZGVyLzQyMjYyODhcbiAgICogQHBhcmFtICB7ZWxlbWVudH0gIGVsXG4gICAqIEBwYXJhbSAge3N0cmluZ30gICB0aW1pbmdcbiAgICogQHJldHVybiB7dm9pZH1cbiAgICovXG4gIGZ1bmN0aW9uIHNsaWRlRG93bihlbCwgdGltaW5nKSB7XG4gICAgdGltaW5nID0gdGltaW5nIHx8ICczMDBtcyBlYXNlJztcbiAgXG4gICAgLy8gR2V0IGVsZW1lbnQgaGVpZ2h0XG4gICAgZWwuc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9ICdpbml0aWFsJztcbiAgICBlbC5zdHlsZS50cmFuc2l0aW9uID0gJ2luaXRpYWwnO1xuICAgIGVsLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICBlbC5zdHlsZS5tYXhIZWlnaHQgPSAnaW5pdGlhbCc7XG4gICAgdmFyIGhlaWdodCA9IGVsLm9mZnNldEhlaWdodCArICdweCc7XG4gICAgZWwuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ3Zpc2liaWxpdHknKTtcbiAgICBlbC5zdHlsZS5tYXhIZWlnaHQgPSAnMCc7XG4gICAgZWwuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgXG4gICAgLy8gQmVnaW4gdHJhbnNpdGlvblxuICAgIGVsLnN0eWxlLndlYmtpdFRyYW5zaXRpb24gPSAnbWF4LWhlaWdodCAnICsgdGltaW5nICsgJywgb3BhY2l0eSAnICsgdGltaW5nICsgJyc7XG4gICAgZWwuc3R5bGUudHJhbnNpdGlvbiA9ICdtYXgtaGVpZ2h0ICcgKyB0aW1pbmcgKyAnLCBvcGFjaXR5ICcgKyB0aW1pbmcgKyAnJztcbiAgICB2YXIgZW5kU2xpZGVEb3duID0gZnVuY3Rpb24oKSB7XG4gICAgICBlbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnLXdlYmtpdC10cmFuc2l0aW9uJyk7XG4gICAgICBlbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgndHJhbnNpdGlvbicpO1xuICAgICAgZWwuc3R5bGUucmVtb3ZlUHJvcGVydHkoJ29wYWNpdHknKTtcbiAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RyYW5zaXRpb25lbmQnLCBlbmRTbGlkZURvd24pO1xuICAgIH07XG4gICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZ1bmN0aW9uKCkge1xuICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIGVuZFNsaWRlRG93bik7XG4gICAgICBlbC5zdHlsZS5tYXhIZWlnaHQgPSBoZWlnaHQ7XG4gICAgICBlbC5zdHlsZS5vcGFjaXR5ID0gJzEnO1xuICAgIH0pO1xuICB9XG4gIFxuICAvKipcbiAgICogU2xpZGUgYW4gZWxlbWVudCB1cCBsaWtlIGpRdWVyeSdzIHNsaWRlVXAgZnVuY3Rpb24gdXNpbmcgQ1NTMyB0cmFuc2l0aW9ucy5cbiAgICogQHNlZSBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9sdWRkZXIvNDIyNjI4OFxuICAgKiBAcGFyYW0gIHtlbGVtZW50fSAgZWxcbiAgICogQHBhcmFtICB7c3RyaW5nfSAgIHRpbWluZ1xuICAgKiBAcmV0dXJuIHt2b2lkfVxuICAgKi9cbiAgZnVuY3Rpb24gc2xpZGVVcChlbCwgdGltaW5nKSB7XG4gICAgdGltaW5nID0gdGltaW5nIHx8ICczMDBtcyBlYXNlJztcbiAgXG4gICAgLy8gR2V0IGVsZW1lbnQgaGVpZ2h0XG4gICAgZWwuc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9ICdpbml0aWFsJztcbiAgICBlbC5zdHlsZS50cmFuc2l0aW9uID0gJ2luaXRpYWwnO1xuICAgIHZhciBoZWlnaHQgPSBlbC5vZmZzZXRIZWlnaHQgKyAncHgnO1xuICAgIGVsLnN0eWxlLm1heEhlaWdodCA9IGhlaWdodDtcbiAgICBlbC5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICBcbiAgICAvLyBCZWdpbiB0cmFuc2l0aW9uXG4gICAgZWwuc3R5bGUud2Via2l0VHJhbnNpdGlvbiA9ICdtYXgtaGVpZ2h0ICcgKyB0aW1pbmcgKyAnLCBvcGFjaXR5ICcgKyB0aW1pbmcgKyAnJztcbiAgICBlbC5zdHlsZS50cmFuc2l0aW9uID0gJ21heC1oZWlnaHQgJyArIHRpbWluZyArICcsIG9wYWNpdHkgJyArIHRpbWluZyArICcnO1xuICAgIHZhciBlbmRTbGlkZURvd24gPSBmdW5jdGlvbigpIHtcbiAgICAgIGVsLnN0eWxlLnJlbW92ZVByb3BlcnR5KCctd2Via2l0LXRyYW5zaXRpb24nKTtcbiAgICAgIGVsLnN0eWxlLnJlbW92ZVByb3BlcnR5KCd0cmFuc2l0aW9uJyk7XG4gICAgICBlbC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnb3BhY2l0eScpO1xuICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndHJhbnNpdGlvbmVuZCcsIGVuZFNsaWRlRG93bik7XG4gICAgfTtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24oKSB7XG4gICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCd0cmFuc2l0aW9uZW5kJywgZW5kU2xpZGVEb3duKTtcbiAgICAgIGVsLnN0eWxlLm1heEhlaWdodCA9ICcwJztcbiAgICAgIGVsLnN0eWxlLm9wYWNpdHkgPSAnMCc7XG4gICAgfSk7XG4gIH1cblxuXG5cbi8qXG4gKiBDdXN0b21cbiAqL1xuIGNsYXNzIERyb3Bkb3duIHtcbiAgIGNvbnN0cnVjdG9yKGNvbnRhaW5lcikge1xuICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICAgdGhpcy5jb250ZW50cyA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5qcy1kcm9wZG93bi1pdGVtLWNvbnRlbnQnKTtcbiAgICAgdGhpcy5saW5rcyA9IHRoaXMuY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoJy5qcy1kcm9wZG93bi1pdGVtLWxpbmsnKTtcbiAgICAgdGhpcy5pbml0KCk7XG4gICB9XG4gXG4gICBpbml0KCkge1xuICAgICB0aGlzLmNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMudXBkYXRlRHJvcGRvd24uYmluZCh0aGlzKSk7XG4gICB9XG4gXG4gICB1cGRhdGVEcm9wZG93bihlKSB7XG4gICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgbGV0IHRhcmdldCA9IGUudGFyZ2V0O1xuIFxuICAgICBpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnanMtZHJvcGRvd24taXRlbS1saW5rJykpIHtcbiAgICAgICBsZXQgcGFyZW50ID0gdGFyZ2V0LmNsb3Nlc3QoJy5qcy1kcm9wZG93bi1pdGVtJyk7XG4gICAgICAgbGV0IGNvbnRlbnQgPSBwYXJlbnQucXVlcnlTZWxlY3RvcignLmpzLWRyb3Bkb3duLWl0ZW0tY29udGVudCcpO1xuIFxuICAgICAgIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1hY3RpdmUnKSkge1xuICAgICAgICAgdGhpcy5jbGVhckRyb3Bkb3duKCk7XG4gICAgICAgfSBlbHNlIHtcbiAgICAgICAgIHRoaXMuY2xlYXJEcm9wZG93bigpO1xuICAgICAgICAgdGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2lzLWFjdGl2ZScpO1xuICAgICAgICAgc2xpZGVEb3duKGNvbnRlbnQpO1xuICAgICAgIH1cbiAgICAgfVxuICAgfVxuIFxuICAgY2xlYXJEcm9wZG93bigpIHtcbiAgICAgZm9yICh2YXIgZWxlbWVudCBvZiB0aGlzLmxpbmtzKSB7XG4gICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgfVxuICAgICBmb3IgKHZhciBlbGVtZW50IG9mIHRoaXMuY29udGVudHMpIHtcbiAgICAgICBzbGlkZVVwKGVsZW1lbnQpO1xuICAgICB9XG4gICB9XG4gfVxuIGNsYXNzIE1lbnUge1xuICAgY29uc3RydWN0b3IoY29udGFpbmVyKSB7XG4gICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgICB0aGlzLm1lbnVTY3JvbGwgPSB0aGlzLmNvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCcuanMtbWVudS1zY3JvbGwnKTtcbiAgICAgdGhpcy5tZW51U2Nyb2xsVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmpzLW1lbnUtc2hvdycpO1xuICAgICB0aGlzLmluaXQoKTtcbiAgIH1cbiBcbiAgIGluaXQoKSB7XG4gICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLmNoZWNrTWVudVBvc2l0aW9uLmJpbmQodGhpcykpO1xuICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5jaGVja01lbnVQb3NpdGlvbi5iaW5kKHRoaXMpKTtcbiAgIH1cbiBcbiAgIGNoZWNrTWVudVBvc2l0aW9uKCkge1xuICAgICBsZXQgdGFyZ2V0UG9zaXRpb24gPSB0aGlzLm1lbnVTY3JvbGxUYXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgIGxldCB0YXJnZXRQb3NpdGlvblRvcCA9IHRhcmdldFBvc2l0aW9uLnRvcDtcbiBcbiAgICAgaWYgKHRhcmdldFBvc2l0aW9uVG9wIDwgMCkge1xuICAgICAgIHRoaXMubWVudVNjcm9sbC5jbGFzc0xpc3QuYWRkKCdpcy1hY3RpdmUnKTtcbiAgICAgfSBlbHNlIHtcbiAgICAgICB0aGlzLm1lbnVTY3JvbGwuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgIH1cbiAgIH1cbiB9XG4gY2xhc3MgVG9vbHRpcHMge1xuICAgY29uc3RydWN0b3IoY29udGFpbmVyKSB7XG4gICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgICB0aGlzLmluaXQoKTtcbiAgIH1cbiBcbiAgIGluaXQoKSB7XG4gXG4gICB9XG4gfVxuIGNsYXNzIFZpZXdlciB7XG4gICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgdGhpcy5pbml0KCk7XG4gICB9XG4gXG4gICBpbml0KCkge1xuICAgICB0aGlzLmluaXRDbGFzc2VzKCk7XG4gICB9XG4gXG4gICBpbml0Q2xhc3NlcygpIHtcbiAgICAgbGV0IGRyb3Bkb3ducyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5qcy1kcm9wZG93bi1jb250YWluZXInKTtcbiAgICAgZm9yICh2YXIgZWxlbWVudCBvZiBkcm9wZG93bnMpIHtcbiAgICAgICBuZXcgRHJvcGRvd24oZWxlbWVudCk7XG4gICAgIH1cbiBcbiAgICAgbGV0IG1lbnUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuanMtbWVudS1jb250YWluZXInKTtcbiAgICAgZm9yICh2YXIgZWxlbWVudCBvZiBtZW51KSB7XG4gICAgICAgbmV3IE1lbnUoZWxlbWVudCk7XG4gICAgIH1cbiAgIH1cbiB9XG5cbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbiAoKSB7XG4gIG5ldyBWaWV3ZXIoKTtcbn0pOyJdfQ==
